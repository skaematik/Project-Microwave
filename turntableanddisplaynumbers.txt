; turntable - displays current index character on screen
.macro turntable
	getVar index, temp1
	cpi temp1, 0
	breq index0
	cpi temp1, 1
	breq index1
	cpi temp1, 2
	breq index2
	cpi temp1, 3
	breq index3
	jmp turntable_display

	index0:
		ldi temp1, '-'
		jmp turntable_display
	index1:
		ldi temp1, '`'
		jmp turntable_display
	index2:
		ldi temp1,  '|'
		jmp turntable_display
	index3:
		ldi temp1, '/'
		jmp turntable_display

	turntable_display:
		lcd_write_data temp1
		clr temp1
.endmacro

; updated display numbers
.macro display_numbers ;load in number to be split into digits and displayed
	push temp1
	push temp2
	
	mov temp1, @0
	clr temp2

	rcall checkTensDigit

	pop temp2
	pop temp1
.endmacro

;; temp1 -- current number to be displayed / parsed
;; temp2 -- the number of <hundreds/tens/ones> found in temp1
; -- check if the number has a tens digit, if none left,
; then push number of tens onto stack	
checkTensDigit: 
	cpi temp1, 10 
	brsh incTens ; branch if temp1 >= 10
	push temp2
	clr temp2
; -- push the number of ones digits onto stack
addones: 
	push temp1
	jmp popDigits

incHundreds: ; increment number of hundreds
	subi temp1, 100
	inc temp2
	rjmp checkHundredsDigit
incTens: ; increment number of tens
	subi temp1, 10
	inc temp2
	rjmp checkTensDigit

; pop stored digits off stack
popDigits: 

	clr temp1
	clr temp2

	pop temp2 ; ones
	pop temp1 ; tens

; display tens and ones
	lcd_write_digit temp1 ; tens
	lcd_write_digit temp2 ; ones

cleanup:
	clr temp1
	clr temp2
	ret

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
